# git_cheatsheet.md

首先首先首先，git的很多命令vscode等软件都有相应的按钮作为快速操作，因此有便捷的工具还是推荐工具，节省自己的时间。

### 📚 **第一步：理解核心概念**

|核心概念|是什么|类比与说明|
| :---------| :-------------------------------------------------------------------------------------| :-----------------------------------------------------------|
|**工作区 (Working Tree)**|你在电脑里直接看到和编辑的目录文件。|**画布**：你正在创作的地方，改动直接可见。|
|**暂存区/索引 (Index/Stage)**|​`.git`​目录下的一个区域（`.git/index`文件），用于临时存放更改。|**拍摄准备区**：决定哪些“画作改动”要放入快照。`git add` 将改动放入此区。|
|**本地仓库 & HEAD**|​`.git`​目录是版本库。`HEAD`是一个指针，指向当前分支的最新提交（可理解为“当前所处位置”）。|**已完成的相册**：提交(`commit`​)将暂存区内容永久保存。`HEAD`是你正在看的相册页。|
|**分支与合并 (Merge)**|一种整合分支的方式，会创建一个新的“合并提交”，保留完整历史记录。|**汇流**：两条支流汇合，保留汇合点。用于保留历史或合并公共分支。|
|**变基 (Rebase)**|将当前分支的提交“重新播放”到目标分支的最新提交之后，形成线性历史。|**重新接续**：将你的工作“接到”目标分支的最新进展之后，历史更清晰。**注意：不要对已推送的提交变基**。|
|**拉取请求 (PR/MR)**|**GitHub/GitLab的协作功能**，并非Git命令。你发起请求，请他人审查并合并你的代码变更。|**申请入册**：请求维护者将你的作品（分支）审核后放入主相册（主分支）。|

> **重要对比：Merge vs. Rebase**
> 两者结果通常相同，但历史不同。简单来说：想**保留完整合并历史**用 **​`merge`​**​；想在自己**本地分支获得更干净的历史**用 **​`rebase`​**。

### 📝 **第二步：构建速查表内容**

### **基础操作**

|命令|使用场景与说明|
| :-----| :---------------------------|
|​`git init`|初始化新仓库。|
|​`git clone <url>`|克隆远程仓库到本地。|
|​`git add <file>`|将工作区的文件改动**添加至暂存区**。|
|​`git commit -m "msg"`|将暂存区的内容**提交到本地仓库**。|
|​`git status`|查看工作区、暂存区的状态。|
|​`git log`|查看提交历史。|

### **分支管理**

|命令|使用场景与说明|
| :-----| :-----------------------------|
|​`git branch`|查看本地分支。|
|​`git branch <name>`|创建新分支。|
|​`git checkout <branch>`|切换到指定分支。|
|​`git checkout -b <name>`|创建并切换到新分支。|
|​`git merge <branch>`|**合并**指定分支到当前分支。|
|​`git rebase <branch>`|**变基**，将当前分支变基到目标分支。|

### **远程协作与PR**

|命令/操作|使用场景与说明|
| :----------| :---------------------------------------------|
|​`git remote add origin <url>`|添加远程仓库地址。|
|​`git push origin <branch>`|将本地分支**推送**到远程仓库。|
|​`git pull`|**拉取**远程更新并合并（=`fetch`​+`merge`）。|
|​`git fetch`|仅拉取远程更新，不自动合并。|
|**创建Pull Request**|在GitHub界面上操作，发起代码审查与合并请求。|

### **撤销与重置** (谨慎使用)

|命令|使用场景与说明|
| :-----| :-----------------------------------|
|​`git restore --staged <file>`|将文件**从暂存区撤出**，保留工作区改动。|
|​`git checkout -- <file>`|**丢弃工作区**中某个文件的改动（危险）。|
|​`git reset HEAD~1`|撤销最近一次提交，但保留文件改动。|

### **Merge 与 Rebase 使用场景总结**

|场景|推荐操作|原因|
| :-----| :---------| :---------------------------------|
|**功能分支合并到主分支**|​`merge`|保留完整的历史和合并上下文。|
|**更新本地功能分支**|​`rebase`|获得清晰线性历史，便于后续处理。|
|**分支已推送到远程**|**避免**​`rebase`|重写公共历史会导致协作混乱。|
